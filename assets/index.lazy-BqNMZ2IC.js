import{f as X,a as q,d as J,j as y,B,e as Q,g as Qe,O as Ye,U as Oe,T as et,L as tt,k as ne,i as ue,r as d,F as Ae,H as le,J as Le,K as Te,h as ze,n as rt,s as st,w as ot,G as nt,p as ct,x as it,v as lt}from"./index-DszLbuUq.js";import{u as at}from"./useRouteContext-C_cU40cS.js";import{T as ut}from"./TextInput-BVOS7UmY.js";import{u as dt}from"./use-resolved-styles-api-D7q8Q4pQ.js";import{c as ft,u as Ne,I as ae,a as pt}from"./InputBase-Ca1C8RK4.js";import{a as Me,g as We}from"./CheckIcon-BQ5RtCtZ.js";import{I as bt,b as mt,a as ht}from"./InputsGroupFieldset-DIiR1DWH.js";var de={root:"m_8d3f4000",icon:"m_8d3afb97",loader:"m_302b9fb1",group:"m_1a0f1b21"};const Ie={orientation:"horizontal"},yt=Q((t,{borderWidth:e})=>({group:{"--ai-border-width":Qe(e)}})),ke=X((t,e)=>{const r=q("ActionIconGroup",Ie,t),{className:o,style:s,classNames:c,styles:n,unstyled:i,orientation:l,vars:u,borderWidth:m,variant:C,mod:k,...h}=q("ActionIconGroup",Ie,t),b=J({name:"ActionIconGroup",props:r,classes:de,className:o,style:s,classNames:c,styles:n,unstyled:i,vars:u,varsResolver:yt,rootSelector:"group"});return y.jsx(B,{...b("group"),ref:e,variant:C,mod:[{"data-orientation":l},k],role:"group",...h})});ke.classes=de;ke.displayName="@mantine/core/ActionIconGroup";const gt={},Ct=Q((t,{size:e,radius:r,variant:o,gradient:s,color:c,autoContrast:n})=>{const i=t.variantColorResolver({color:c||t.primaryColor,theme:t,gradient:s,variant:o||"filled",autoContrast:n});return{root:{"--ai-size":ne(e,"ai-size"),"--ai-radius":r===void 0?void 0:ue(r),"--ai-bg":c||o?i.background:void 0,"--ai-hover":c||o?i.hover:void 0,"--ai-hover-color":c||o?i.hoverColor:void 0,"--ai-color":i.color,"--ai-bd":c||o?i.border:void 0}}}),fe=Ye((t,e)=>{const r=q("ActionIcon",gt,t),{className:o,unstyled:s,variant:c,classNames:n,styles:i,style:l,loading:u,loaderProps:m,size:C,color:k,radius:h,__staticSelector:b,gradient:f,vars:v,children:j,disabled:E,"data-disabled":w,autoContrast:$,mod:I,...p}=r,g=J({name:["ActionIcon",b],props:r,className:o,style:l,classes:de,classNames:n,styles:i,unstyled:s,vars:v,varsResolver:Ct});return y.jsxs(Oe,{...g("root",{active:!E&&!u&&!w}),...p,unstyled:s,variant:c,size:C,disabled:E||u,ref:e,mod:[{loading:u,disabled:E||w},I],children:[y.jsx(et,{mounted:!!u,transition:"slide-down",duration:150,children:x=>y.jsx(B,{component:"span",...g("loader",{style:x}),"aria-hidden":!0,children:y.jsx(tt,{color:"var(--ai-color)",size:"calc(var(--ai-size) * 0.55)",...m})})}),y.jsx(B,{component:"span",mod:{loading:u},...g("icon"),children:j})]})});fe.classes=de;fe.displayName="@mantine/core/ActionIcon";fe.Group=ke;const Ge=d.createContext(null),vt=Ge.Provider,Ke=()=>d.useContext(Ge),[kt,St]=ft();var qe={card:"m_26775b0a"};const jt={withBorder:!0},xt=Q((t,{radius:e})=>({card:{"--card-radius":ue(e)}})),Se=X((t,e)=>{const r=q("CheckboxCard",jt,t),{classNames:o,className:s,style:c,styles:n,unstyled:i,vars:l,checked:u,mod:m,withBorder:C,value:k,onClick:h,...b}=r,f=J({name:"CheckboxCard",classes:qe,props:r,className:s,style:c,classNames:o,styles:n,unstyled:i,vars:l,varsResolver:xt,rootSelector:"card"}),v=Ke(),j=typeof u=="boolean"?u:(v==null?void 0:v.value.includes(k||""))||!1;return y.jsx(kt,{value:{checked:j},children:y.jsx(Oe,{ref:e,mod:[{"with-border":C,checked:j},m],...f("card"),...b,role:"checkbox","aria-checked":j,onClick:E=>{h==null||h(E),v==null||v.onChange(k||"")}})})});Se.displayName="@mantine/core/CheckboxCard";Se.classes=qe;const Et={},je=X((t,e)=>{const{value:r,defaultValue:o,onChange:s,size:c,wrapperProps:n,children:i,readOnly:l,...u}=q("CheckboxGroup",Et,t),[m,C]=Ne({value:r,defaultValue:o,finalValue:[],onChange:s}),k=h=>{const b=typeof h=="string"?h:h.currentTarget.value;!l&&C(m.includes(b)?m.filter(f=>f!==b):[...m,b])};return y.jsx(vt,{value:{value:m,onChange:k,size:c},children:y.jsx(ae.Wrapper,{size:c,ref:e,...n,...u,labelElement:"div",__staticSelector:"CheckboxGroup",children:y.jsx(bt,{role:"group",children:i})})})});je.classes=ae.Wrapper.classes;je.displayName="@mantine/core/CheckboxGroup";var Ze={indicator:"m_5e5256ee",icon:"m_1b1c543a","indicator--outline":"m_76e20374"};const Vt={icon:Me},wt=Q((t,{radius:e,color:r,size:o,iconColor:s,variant:c,autoContrast:n})=>{const i=Ae({color:r||t.primaryColor,theme:t}),l=i.isThemeColor&&i.shade===void 0?`var(--mantine-color-${i.color}-outline)`:i.color;return{indicator:{"--checkbox-size":ne(o,"checkbox-size"),"--checkbox-radius":e===void 0?void 0:ue(e),"--checkbox-color":c==="outline"?l:le(r,t),"--checkbox-icon-color":s?le(s,t):We(n,t)?Le({color:r,theme:t,autoContrast:n}):void 0}}}),xe=X((t,e)=>{const r=q("CheckboxIndicator",Vt,t),{classNames:o,className:s,style:c,styles:n,unstyled:i,vars:l,icon:u,indeterminate:m,radius:C,color:k,iconColor:h,autoContrast:b,checked:f,mod:v,variant:j,disabled:E,...w}=r,$=u,I=J({name:"CheckboxIndicator",classes:Ze,props:r,className:s,style:c,classNames:o,styles:n,unstyled:i,vars:l,varsResolver:wt,rootSelector:"indicator"}),p=St(),g=typeof f=="boolean"||typeof m=="boolean"?f||m:(p==null?void 0:p.checked)||!1;return y.jsx(B,{ref:e,...I("indicator",{variant:j}),variant:j,mod:[{checked:g,disabled:E},v],...w,children:y.jsx($,{indeterminate:m,...I("icon")})})});xe.displayName="@mantine/core/CheckboxIndicator";xe.classes=Ze;var He={root:"m_bf2d988c",inner:"m_26062bec",input:"m_26063560",icon:"m_bf295423","input--outline":"m_215c4542"};const It={labelPosition:"right",icon:Me},Ft=Q((t,{radius:e,color:r,size:o,iconColor:s,variant:c,autoContrast:n})=>{const i=Ae({color:r||t.primaryColor,theme:t}),l=i.isThemeColor&&i.shade===void 0?`var(--mantine-color-${i.color}-outline)`:i.color;return{root:{"--checkbox-size":ne(o,"checkbox-size"),"--checkbox-radius":e===void 0?void 0:ue(e),"--checkbox-color":c==="outline"?l:le(r,t),"--checkbox-icon-color":s?le(s,t):We(n,t)?Le({color:r,theme:t,autoContrast:n}):void 0}}}),Y=X((t,e)=>{const r=q("Checkbox",It,t),{classNames:o,className:s,style:c,styles:n,unstyled:i,vars:l,color:u,label:m,id:C,size:k,radius:h,wrapperProps:b,checked:f,labelPosition:v,description:j,error:E,disabled:w,variant:$,indeterminate:I,icon:p,rootRef:g,iconColor:x,onChange:F,autoContrast:L,mod:Z,...ee}=r,A=Ke(),te=k||(A==null?void 0:A.size),re=p,M=J({name:"Checkbox",props:r,classes:He,className:s,style:c,classNames:o,styles:n,unstyled:i,vars:l,varsResolver:Ft}),{styleProps:se,rest:V}=Te(ee),H=ze(C),W=A?{checked:A.value.includes(V.value),onChange:a=>{A.onChange(a),F==null||F(a)}}:{};return y.jsx(ht,{...M("root"),__staticSelector:"Checkbox",__stylesApiProps:r,id:H,size:te,labelPosition:v,label:m,description:j,error:E,disabled:w,classNames:o,styles:n,unstyled:i,"data-checked":W.checked||f||void 0,variant:$,ref:g,mod:Z,...se,...b,children:y.jsxs(B,{...M("inner"),mod:{"data-label-position":v},children:[y.jsx(B,{component:"input",id:H,ref:e,checked:f,disabled:w,mod:{error:!!E,indeterminate:I},...M("input",{focusable:!0,variant:$}),onChange:F,...V,...W,type:"checkbox"}),y.jsx(re,{indeterminate:I,...M("icon")})]})})});Y.classes={...He,...mt};Y.displayName="@mantine/core/Checkbox";Y.Group=je;Y.Indicator=xe;Y.Card=Se;const _t=({reveal:t})=>y.jsx("svg",{viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:{width:"var(--psi-icon-size)",height:"var(--psi-icon-size)"},children:y.jsx("path",{d:t?"M13.3536 2.35355C13.5488 2.15829 13.5488 1.84171 13.3536 1.64645C13.1583 1.45118 12.8417 1.45118 12.6464 1.64645L10.6828 3.61012C9.70652 3.21671 8.63759 3 7.5 3C4.30786 3 1.65639 4.70638 0.0760002 7.23501C-0.0253338 7.39715 -0.0253334 7.60288 0.0760014 7.76501C0.902945 9.08812 2.02314 10.1861 3.36061 10.9323L1.64645 12.6464C1.45118 12.8417 1.45118 13.1583 1.64645 13.3536C1.84171 13.5488 2.15829 13.5488 2.35355 13.3536L4.31723 11.3899C5.29348 11.7833 6.36241 12 7.5 12C10.6921 12 13.3436 10.2936 14.924 7.76501C15.0253 7.60288 15.0253 7.39715 14.924 7.23501C14.0971 5.9119 12.9769 4.81391 11.6394 4.06771L13.3536 2.35355ZM9.90428 4.38861C9.15332 4.1361 8.34759 4 7.5 4C4.80285 4 2.52952 5.37816 1.09622 7.50001C1.87284 8.6497 2.89609 9.58106 4.09974 10.1931L9.90428 4.38861ZM5.09572 10.6114L10.9003 4.80685C12.1039 5.41894 13.1272 6.35031 13.9038 7.50001C12.4705 9.62183 10.1971 11 7.5 11C6.65241 11 5.84668 10.8639 5.09572 10.6114Z":"M7.5 11C4.80285 11 2.52952 9.62184 1.09622 7.50001C2.52952 5.37816 4.80285 4 7.5 4C10.1971 4 12.4705 5.37816 13.9038 7.50001C12.4705 9.62183 10.1971 11 7.5 11ZM7.5 3C4.30786 3 1.65639 4.70638 0.0760002 7.23501C-0.0253338 7.39715 -0.0253334 7.60288 0.0760014 7.76501C1.65639 10.2936 4.30786 12 7.5 12C10.6921 12 13.3436 10.2936 14.924 7.76501C15.0253 7.60288 15.0253 7.39715 14.924 7.23501C13.3436 4.70638 10.6921 3 7.5 3ZM7.5 9.5C8.60457 9.5 9.5 8.60457 9.5 7.5C9.5 6.39543 8.60457 5.5 7.5 5.5C6.39543 5.5 5.5 6.39543 5.5 7.5C5.5 8.60457 6.39543 9.5 7.5 9.5Z",fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd"})});var he={root:"m_f61ca620",input:"m_ccf8da4c",innerInput:"m_f2d85dd2",visibilityToggle:"m_b1072d44"};const $t={visibilityToggleIcon:_t},Pt=Q((t,{size:e})=>({root:{"--psi-icon-size":ne(e,"psi-icon-size"),"--psi-button-size":ne(e,"psi-button-size")}})),Ee=X((t,e)=>{const r=q("PasswordInput",$t,t),{classNames:o,className:s,style:c,styles:n,unstyled:i,vars:l,required:u,error:m,leftSection:C,disabled:k,id:h,variant:b,inputContainer:f,description:v,label:j,size:E,errorProps:w,descriptionProps:$,labelProps:I,withAsterisk:p,inputWrapperOrder:g,wrapperProps:x,radius:F,rightSection:L,rightSectionWidth:Z,rightSectionPointerEvents:ee,leftSectionWidth:A,visible:te,defaultVisible:re,onVisibilityChange:M,visibilityToggleIcon:se,visibilityToggleButtonProps:V,rightSectionProps:H,leftSectionProps:W,leftSectionPointerEvents:a,withErrorStyles:S,mod:_,...D}=r,T=ze(h),[z,O]=Ne({value:te,defaultValue:re,finalValue:!1,onChange:M}),G=()=>O(!z),be=J({name:"PasswordInput",classes:he,props:r,className:s,style:c,classNames:o,styles:n,unstyled:i,vars:l,varsResolver:Pt}),{resolvedClassNames:me,resolvedStyles:Ve}=dt({classNames:o,styles:n,props:r}),{styleProps:Be,rest:we}=Te(D),Xe=se,Je=y.jsx(fe,{...be("visibilityToggle"),disabled:k,radius:F,"aria-hidden":!V,tabIndex:-1,...V,variant:"subtle",color:"gray",unstyled:i,onTouchEnd:N=>{var K;N.preventDefault(),(K=V==null?void 0:V.onTouchEnd)==null||K.call(V,N),G()},onMouseDown:N=>{var K;N.preventDefault(),(K=V==null?void 0:V.onMouseDown)==null||K.call(V,N),G()},onKeyDown:N=>{var K;(K=V==null?void 0:V.onKeyDown)==null||K.call(V,N),N.key===" "&&(N.preventDefault(),G())},children:y.jsx(Xe,{reveal:z})});return y.jsx(ae.Wrapper,{required:u,id:T,label:j,error:m,description:v,size:E,classNames:me,styles:Ve,__staticSelector:"PasswordInput",errorProps:w,descriptionProps:$,unstyled:i,withAsterisk:p,inputWrapperOrder:g,inputContainer:f,variant:b,labelProps:{...I,htmlFor:T},mod:_,...be("root"),...Be,...x,children:y.jsx(ae,{component:"div",error:m,leftSection:C,size:E,classNames:{...me,input:rt(he.input,me.input)},styles:Ve,radius:F,disabled:k,__staticSelector:"PasswordInput",rightSectionWidth:Z,rightSection:L??Je,variant:b,unstyled:i,leftSectionWidth:A,rightSectionPointerEvents:ee||"all",rightSectionProps:H,leftSectionProps:W,leftSectionPointerEvents:a,withAria:!1,withErrorStyles:S,children:y.jsx("input",{required:u,"data-invalid":!!m||void 0,"data-with-left-section":!!C||void 0,...be("innerInput"),disabled:k,id:T,ref:e,...we,autoComplete:we.autoComplete||"off",type:z?"text":"password"})})})});Ee.classes={...pt.classes,...he};Ee.displayName="@mantine/core/PasswordInput";function Rt(t){if(!/^[0-9a-zA-Z-]+$/.test(t))throw new Error(`[@mantine/use-form] Form name "${t}" is invalid, it should contain only letters, numbers and dashes`)}const Dt=typeof window<"u"?d.useLayoutEffect:d.useEffect;function P(t,e){Dt(()=>{if(t)return window.addEventListener(t,e),()=>window.removeEventListener(t,e)},[t])}function Ot(t,e){t&&Rt(t),P(`mantine-form:${t}:set-field-value`,r=>e.setFieldValue(r.detail.path,r.detail.value)),P(`mantine-form:${t}:set-values`,r=>e.setValues(r.detail)),P(`mantine-form:${t}:set-initial-values`,r=>e.setInitialValues(r.detail)),P(`mantine-form:${t}:set-errors`,r=>e.setErrors(r.detail)),P(`mantine-form:${t}:set-field-error`,r=>e.setFieldError(r.detail.path,r.detail.error)),P(`mantine-form:${t}:clear-field-error`,r=>e.clearFieldError(r.detail)),P(`mantine-form:${t}:clear-errors`,e.clearErrors),P(`mantine-form:${t}:reset`,e.reset),P(`mantine-form:${t}:validate`,e.validate),P(`mantine-form:${t}:validate-field`,r=>e.validateField(r.detail)),P(`mantine-form:${t}:reorder-list-item`,r=>e.reorderListItem(r.detail.path,r.detail.payload)),P(`mantine-form:${t}:remove-list-item`,r=>e.removeListItem(r.detail.path,r.detail.index)),P(`mantine-form:${t}:insert-list-item`,r=>e.insertListItem(r.detail.path,r.detail.item,r.detail.index)),P(`mantine-form:${t}:set-dirty`,r=>e.setDirty(r.detail)),P(`mantine-form:${t}:set-touched`,r=>e.setTouched(r.detail)),P(`mantine-form:${t}:reset-dirty`,r=>e.resetDirty(r.detail)),P(`mantine-form:${t}:reset-touched`,e.resetTouched)}function At(t){return e=>{if(!e)t(e);else if(typeof e=="function")t(e);else if(typeof e=="object"&&"nativeEvent"in e){const{currentTarget:r}=e;r instanceof HTMLInputElement?r.type==="checkbox"?t(r.checked):t(r.value):(r instanceof HTMLTextAreaElement||r instanceof HTMLSelectElement)&&t(r.value)}else t(e)}}function ye(t){return t===null||typeof t!="object"?{}:Object.keys(t).reduce((e,r)=>{const o=t[r];return o!=null&&o!==!1&&(e[r]=o),e},{})}function Lt(t){const[e,r]=d.useState(ye(t)),o=d.useRef(e),s=d.useCallback(l=>{r(u=>{const m=ye(typeof l=="function"?l(u):l);return o.current=m,m})},[]),c=d.useCallback(()=>s({}),[]),n=d.useCallback(l=>{o.current[l]!==void 0&&s(u=>{const m={...u};return delete m[l],m})},[e]),i=d.useCallback((l,u)=>{u==null||u===!1?n(l):o.current[l]!==u&&s(m=>({...m,[l]:u}))},[e]);return{errorsState:e,setErrors:s,clearErrors:c,setFieldError:i,clearFieldError:n}}function ge(t,e){if(e===null||typeof e!="object")return{};const r={...e};return Object.keys(e).forEach(o=>{o.includes(`${String(t)}.`)&&delete r[o]}),r}function Fe(t,e){const r=t.substring(e.length+1).split(".")[0];return parseInt(r,10)}function _e(t,e,r,o){if(e===void 0)return r;const s=`${String(t)}`;let c=r;o===-1&&(c=ge(`${s}.${e}`,c));const n={...c},i=new Set;return Object.entries(c).filter(([l])=>{if(!l.startsWith(`${s}.`))return!1;const u=Fe(l,s);return Number.isNaN(u)?!1:u>=e}).forEach(([l,u])=>{const m=Fe(l,s),C=l.replace(`${s}.${m}`,`${s}.${m+o}`);n[C]=u,i.add(C),i.has(l)||delete n[l]}),n}function Tt(t,{from:e,to:r},o){const s=`${t}.${e}`,c=`${t}.${r}`,n={...o};return Object.keys(o).every(i=>{let l,u;if(i.startsWith(s)&&(l=i,u=i.replace(s,c)),i.startsWith(c)&&(l=i.replace(c,s),u=i),l&&u){const m=n[l],C=n[u];return C===void 0?delete n[l]:n[l]=C,m===void 0?delete n[u]:n[u]=m,!1}return!0}),n}function $e(t,e,r){typeof r.value=="object"&&(r.value=U(r.value)),!r.enumerable||r.get||r.set||!r.configurable||!r.writable||e==="__proto__"?Object.defineProperty(t,e,r):t[e]=r.value}function U(t){if(typeof t!="object")return t;var e=0,r,o,s,c=Object.prototype.toString.call(t);if(c==="[object Object]"?s=Object.create(t.__proto__||null):c==="[object Array]"?s=Array(t.length):c==="[object Set]"?(s=new Set,t.forEach(function(n){s.add(U(n))})):c==="[object Map]"?(s=new Map,t.forEach(function(n,i){s.set(U(i),U(n))})):c==="[object Date]"?s=new Date(+t):c==="[object RegExp]"?s=new RegExp(t.source,t.flags):c==="[object DataView]"?s=new t.constructor(U(t.buffer)):c==="[object ArrayBuffer]"?s=t.slice(0):c.slice(-6)==="Array]"&&(s=new t.constructor(t)),s){for(o=Object.getOwnPropertySymbols(t);e<o.length;e++)$e(s,o[e],Object.getOwnPropertyDescriptor(t,o[e]));for(e=0,o=Object.getOwnPropertyNames(t);e<o.length;e++)Object.hasOwnProperty.call(s,r=o[e])&&s[r]===t[r]||$e(s,r,Object.getOwnPropertyDescriptor(t,r))}return s||t}function Ue(t){return typeof t!="string"?[]:t.split(".")}function R(t,e){const r=Ue(t);if(r.length===0||typeof e!="object"||e===null)return;let o=e[r[0]];for(let s=1;s<r.length&&o!=null;s+=1)o=o[r[s]];return o}function pe(t,e,r){const o=Ue(t);if(o.length===0)return r;const s=U(r);if(o.length===1)return s[o[0]]=e,s;let c=s[o[0]];for(let n=1;n<o.length-1;n+=1){if(c===void 0)return s;c=c[o[n]]}return c[o[o.length-1]]=e,s}function zt(t,{from:e,to:r},o){const s=R(t,o);if(!Array.isArray(s))return o;const c=[...s],n=s[e];return c.splice(e,1),c.splice(r,0,n),pe(t,c,o)}function Nt(t,e,r,o){const s=R(t,o);if(!Array.isArray(s))return o;const c=[...s];return c.splice(typeof r=="number"?r:c.length,0,e),pe(t,c,o)}function Mt(t,e,r){const o=R(t,r);return Array.isArray(o)?pe(t,o.filter((s,c)=>c!==e),r):r}function Wt({$values:t,$errors:e,$status:r}){const o=d.useCallback((n,i)=>{r.clearFieldDirty(n),e.setErrors(l=>Tt(n,i,l)),t.setValues({values:zt(n,i,t.refValues.current),updateState:!0})},[]),s=d.useCallback((n,i)=>{r.clearFieldDirty(n),e.setErrors(l=>_e(n,i,l,-1)),t.setValues({values:Mt(n,i,t.refValues.current),updateState:!0})},[]),c=d.useCallback((n,i,l)=>{r.clearFieldDirty(n),e.setErrors(u=>_e(n,l,u,1)),t.setValues({values:Nt(n,i,l,t.refValues.current),updateState:!0})},[]);return{reorderListItem:o,removeListItem:s,insertListItem:c}}var Gt=function t(e,r){if(e===r)return!0;if(e&&r&&typeof e=="object"&&typeof r=="object"){if(e.constructor!==r.constructor)return!1;var o,s,c;if(Array.isArray(e)){if(o=e.length,o!=r.length)return!1;for(s=o;s--!==0;)if(!t(e[s],r[s]))return!1;return!0}if(e.constructor===RegExp)return e.source===r.source&&e.flags===r.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===r.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===r.toString();if(c=Object.keys(e),o=c.length,o!==Object.keys(r).length)return!1;for(s=o;s--!==0;)if(!Object.prototype.hasOwnProperty.call(r,c[s]))return!1;for(s=o;s--!==0;){var n=c[s];if(!t(e[n],r[n]))return!1}return!0}return e!==e&&r!==r};const ce=st(Gt);function oe(t,e){const r=Object.keys(t);if(typeof e=="string"){const o=r.filter(s=>s.startsWith(`${e}.`));return t[e]||o.some(s=>t[s])||!1}return r.some(o=>t[o])}function Kt({initialDirty:t,initialTouched:e,mode:r,$values:o}){const[s,c]=d.useState(e),[n,i]=d.useState(t),l=d.useRef(e),u=d.useRef(t),m=d.useCallback(p=>{const g=typeof p=="function"?p(l.current):p;l.current=g,r==="controlled"&&c(g)},[]),C=d.useCallback((p,g=!1)=>{const x=typeof p=="function"?p(u.current):p;u.current=x,(r==="controlled"||g)&&i(x)},[]),k=d.useCallback(()=>m({}),[]),h=p=>{const g=p?{...p,...o.refValues.current}:o.refValues.current;o.setValuesSnapshot(g),C({})},b=d.useCallback((p,g)=>{m(x=>oe(x,p)===g?x:{...x,[p]:g})},[]),f=d.useCallback((p,g,x)=>{C(F=>oe(F,p)===g?F:{...F,[p]:g},x)},[]),v=d.useCallback((p,g)=>{const x=oe(u.current,p),F=!ce(R(p,o.getValuesSnapshot()),g),L=ge(p,u.current);L[p]=F,C(L,x!==F)},[]),j=d.useCallback(p=>oe(l.current,p),[]),E=d.useCallback(p=>C(g=>{if(typeof p!="string")return g;const x=ge(p,g);return delete x[p],ce(x,g)?g:x}),[]),w=d.useCallback(p=>{if(p){const x=R(p,u.current);if(typeof x=="boolean")return x;const F=R(p,o.refValues.current),L=R(p,o.valuesSnapshot.current);return!ce(F,L)}return Object.keys(u.current).length>0?oe(u.current):!ce(o.refValues.current,o.valuesSnapshot.current)},[]),$=d.useCallback(()=>u.current,[]),I=d.useCallback(()=>l.current,[]);return{touchedState:s,dirtyState:n,touchedRef:l,dirtyRef:u,setTouched:m,setDirty:C,resetDirty:h,resetTouched:k,isTouched:j,setFieldTouched:b,setFieldDirty:f,setTouchedState:c,setDirtyState:i,clearFieldDirty:E,isDirty:w,getDirty:$,getTouched:I,setCalculatedFieldDirty:v}}function qt({initialValues:t,onValuesChange:e,mode:r}){const o=d.useRef(!1),[s,c]=d.useState(t||{}),n=d.useRef(s),i=d.useRef(s),l=d.useCallback(({values:f,subscribers:v,updateState:j=!0,mergeWithPreviousValues:E=!0})=>{const w=n.current,$=f instanceof Function?f(n.current):f,I=E?{...w,...$}:$;n.current=I,j&&c(I),e==null||e(I,w),v==null||v.filter(Boolean).forEach(p=>p({updatedValues:I,previousValues:w}))},[e]),u=d.useCallback(f=>{var E;const v=R(f.path,n.current),j=f.value instanceof Function?f.value(v):f.value;if(v!==j){const w=n.current,$=pe(f.path,j,n.current);l({values:$,updateState:f.updateState}),(E=f.subscribers)==null||E.filter(Boolean).forEach(I=>I({path:f.path,updatedValues:$,previousValues:w}))}},[l]),m=d.useCallback(f=>{i.current=f},[]),C=d.useCallback((f,v)=>{o.current||(o.current=!0,l({values:f,updateState:r==="controlled"}),m(f),v())},[l]),k=d.useCallback(()=>{l({values:i.current,updateState:!0,mergeWithPreviousValues:!1})},[l]),h=d.useCallback(()=>n.current,[]),b=d.useCallback(()=>i.current,[]);return{initialized:o,stateValues:s,refValues:n,valuesSnapshot:i,setValues:l,setFieldValue:u,resetValues:k,setValuesSnapshot:m,initialize:C,getValues:h,getValuesSnapshot:b}}function Zt({$status:t}){const e=d.useRef({}),r=d.useCallback((s,c)=>{d.useEffect(()=>(e.current[s]=e.current[s]||[],e.current[s].push(c),()=>{e.current[s]=e.current[s].filter(n=>n!==c)}),[c])},[]),o=d.useCallback(s=>e.current[s]?e.current[s].map(c=>n=>c({previousValue:R(s,n.previousValues),value:R(s,n.updatedValues),touched:t.isTouched(s),dirty:t.isDirty(s)})):[],[]);return{subscribers:e,watch:r,getFieldSubscribers:o}}function Pe(t,e){return t?`${t}-${e.toString()}`:e.toString()}function Re(t){const e=ye(t);return{hasErrors:Object.keys(e).length>0,errors:e}}function Ce(t,e,r="",o={}){return typeof t!="object"||t===null?o:Object.keys(t).reduce((s,c)=>{const n=t[c],i=`${r===""?"":`${r}.`}${c}`,l=R(i,e);let u=!1;return typeof n=="function"&&(s[i]=n(l,e,i)),typeof n=="object"&&Array.isArray(l)&&(u=!0,l.forEach((m,C)=>Ce(n,e,`${i}.${C}`,s))),typeof n=="object"&&typeof l=="object"&&l!==null&&(u||Ce(n,e,i,s)),s},o)}function ve(t,e){return Re(typeof t=="function"?t(e):Ce(t,e))}function ie(t,e,r){if(typeof t!="string")return{hasError:!1,error:null};const o=ve(e,r),s=Object.keys(o.errors).find(c=>t.split(".").every((n,i)=>n===c.split(".")[i]));return{hasError:!!s,error:s?o.errors[s]:null}}const Ht="__MANTINE_FORM_INDEX__";function De(t,e){return e?typeof e=="boolean"?e:Array.isArray(e)?e.includes(t.replace(/[.][0-9]+/g,`.${Ht}`)):!1:!1}function Ut({name:t,mode:e="controlled",initialValues:r,initialErrors:o={},initialDirty:s={},initialTouched:c={},clearInputErrorOnChange:n=!0,validateInputOnChange:i=!1,validateInputOnBlur:l=!1,onValuesChange:u,transformValues:m=h=>h,enhanceGetInputProps:C,validate:k}={}){const h=Lt(o),b=qt({initialValues:r,onValuesChange:u,mode:e}),f=Kt({initialDirty:s,initialTouched:c,$values:b,mode:e}),v=Wt({$values:b,$errors:h,$status:f}),j=Zt({$status:f}),[E,w]=d.useState(0),[$,I]=d.useState({}),p=d.useCallback(()=>{b.resetValues(),h.clearErrors(),f.resetDirty(),f.resetTouched(),e==="uncontrolled"&&w(a=>a+1)},[]),g=d.useCallback(a=>{n&&h.clearErrors(),e==="uncontrolled"&&w(S=>S+1),Object.keys(j.subscribers.current).forEach(S=>{const _=R(S,b.refValues.current),D=R(S,a);_!==D&&j.getFieldSubscribers(S).forEach(T=>T({previousValues:a,updatedValues:b.refValues.current}))})},[n]),x=d.useCallback(a=>{const S=b.refValues.current;b.initialize(a,()=>e==="uncontrolled"&&w(_=>_+1)),g(S)},[g]),F=d.useCallback((a,S,_)=>{const D=De(a,i),T=S instanceof Function?S(R(a,b.refValues.current)):S;f.setCalculatedFieldDirty(a,T),f.setFieldTouched(a,!0),!D&&n&&h.clearFieldError(a),b.setFieldValue({path:a,value:S,updateState:e==="controlled",subscribers:[...j.getFieldSubscribers(a),D?z=>{const O=ie(a,k,z.updatedValues);O.hasError?h.setFieldError(a,O.error):h.clearFieldError(a)}:null,(_==null?void 0:_.forceUpdate)!==!1&&e!=="controlled"?()=>I(z=>({...z,[a]:(z[a]||0)+1})):null]})},[u,k]),L=d.useCallback(a=>{const S=b.refValues.current;b.setValues({values:a,updateState:e==="controlled"}),g(S)},[u,g]),Z=d.useCallback(()=>{const a=ve(k,b.refValues.current);return h.setErrors(a.errors),a},[k]),ee=d.useCallback(a=>{const S=ie(a,k,b.refValues.current);return S.hasError?h.setFieldError(a,S.error):h.clearFieldError(a),S},[k]),A=(a,{type:S="input",withError:_=!0,withFocus:D=!0,...T}={})=>{const O={onChange:At(G=>F(a,G,{forceUpdate:!1})),"data-path":Pe(t,a)};return _&&(O.error=h.errorsState[a]),S==="checkbox"?O[e==="controlled"?"checked":"defaultChecked"]=R(a,b.refValues.current):O[e==="controlled"?"value":"defaultValue"]=R(a,b.refValues.current),D&&(O.onFocus=()=>f.setFieldTouched(a,!0),O.onBlur=()=>{if(De(a,l)){const G=ie(a,k,b.refValues.current);G.hasError?h.setFieldError(a,G.error):h.clearFieldError(a)}}),Object.assign(O,C==null?void 0:C({inputProps:O,field:a,options:{type:S,withError:_,withFocus:D,...T},form:W}))},te=(a,S)=>_=>{_==null||_.preventDefault();const D=Z();D.hasErrors?S==null||S(D.errors,b.refValues.current,_):a==null||a(m(b.refValues.current),_)},re=a=>m(a||b.refValues.current),M=d.useCallback(a=>{a.preventDefault(),p()},[]),se=d.useCallback(a=>a?!ie(a,k,b.refValues.current).hasError:!ve(k,b.refValues.current).hasErrors,[k]),V=a=>`${E}-${a}-${$[a]||0}`,H=d.useCallback(a=>document.querySelector(`[data-path="${Pe(t,a)}"]`),[]),W={watch:j.watch,initialized:b.initialized.current,values:b.stateValues,getValues:b.getValues,setInitialValues:b.setValuesSnapshot,initialize:x,setValues:L,setFieldValue:F,errors:h.errorsState,setErrors:h.setErrors,setFieldError:h.setFieldError,clearFieldError:h.clearFieldError,clearErrors:h.clearErrors,resetDirty:f.resetDirty,setTouched:f.setTouched,setDirty:f.setDirty,isTouched:f.isTouched,resetTouched:f.resetTouched,isDirty:f.isDirty,getTouched:f.getTouched,getDirty:f.getDirty,reorderListItem:v.reorderListItem,insertListItem:v.insertListItem,removeListItem:v.removeListItem,reset:p,validate:Z,validateField:ee,getInputProps:A,onSubmit:te,onReset:M,isValid:se,getTransformedValues:re,key:V,getInputNode:H};return Ot(t,W),W}function Bt(){const t=ot(),e=Ut({initialValues:{email:"",password:"",remember:!1},validate:{email:o=>/^\S+@\S+$/.test(o)?null:"ugyldig email",password:o=>o.length>0?null:"Adgangskode kan ikke være tom"}}),r=async o=>{const s=it(),{email:c,password:n}=o;try{const{error:i}=await s.auth.signInWithPassword({email:c,password:n,options:{remember:o.remember}});if(i)throw i;t.navigate({to:"/frontpage"})}catch(i){console.error("Login error:",i.message),alert("Login failed: "+i.message)}};return y.jsxs("div",{style:{width:"100%",margin:"24px",alignContent:"center"},children:[y.jsx("h1",{children:"EFIF"}),y.jsx("h3",{children:"Log på"}),y.jsxs("form",{onSubmit:e.onSubmit(r),children:[y.jsx(ut,{withAsterisk:!0,required:!0,label:"Brugernavn",placeholder:"Indtast brugernavn",...e.getInputProps("email")}),y.jsx(Ee,{style:{marginTop:"24px"},required:!0,withAsterisk:!0,label:"Password",placeholder:"Indtast kodeord",...e.getInputProps("password")}),y.jsx(Y,{style:{marginTop:"24px"},mt:"md",label:"Husk mig",...e.getInputProps("remember",{type:"checkbox"})}),y.jsx(nt,{justify:"flex-end",mt:"md",children:y.jsx(ct,{style:{marginTop:"24px"},type:"submit",variant:"filled",children:"Log ind"})})]})]})}const or=lt("/")({component:Xt});function Xt(){const t=at({from:"/"});return console.log(t),y.jsxs("div",{style:{display:"flex"},children:[y.jsx("div",{style:{width:"100%",height:"100vh",backgroundImage:'url("https://epgjtuypadrnxeldurle.supabase.co/storage/v1/object/public/lokale-images/image-2.webp")',backgroundSize:"cover",backgroundPosition:"center"}}),y.jsx(Bt,{})]})}export{or as Route};
